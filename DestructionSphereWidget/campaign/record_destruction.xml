<?xml version="1.0" encoding="iso-8859-1"?>
<root>
    <windowclass name="DestructionWidget">
        <frame>recordsheet</frame>
        <placement>
            <size width="575" height="400" />
        </placement>
        <sizelimits>
            <minimum width="575" height="140" />
            <dynamic />
        </sizelimits>
        <nodelete />
        <playercontrol />
        <tooltip control="name" />
        <sheetdata>
            <windowtitlebar name="title">
                <resource>power_header_destruction</resource>
            </windowtitlebar>

            <frame_record_editor name="contentframe" />

            <subwindow_record name="main">
                <class>destruction_editor_main</class>
                <activate />
                <fastinit />
            </subwindow_record>

            <scrollbar_record>
                <target>main</target>
            </scrollbar_record>

            <resize_recordsheet />
            <close_recordsheet />
        </sheetdata>
    </windowclass>


    <windowclass name="destruction_editor_main">
        <sheetdata>
            <anchor_column name="columnanchor" />

            <subwindow name="cast_window">
                <anchored>
                    <top parent="columnanchor" anchor="bottom" relation="relative" offset="10" />
                    <left offset="10" />
                    <right offset="-10" />
                </anchored>
                <class>cast_box</class>
                <center />
                <activate />
                <fastinit />
            </subwindow>

            <header_column name="header_shape">
                <frame name="rowshade" />
                <static textres="destruction_header_shape" />
                <script>
                    function onClickDown(button, x, y)
                        return true;
                    end

                    function onClickRelease(button, x, y)
                        if DB.getChildCount(window.shape_list.getDatabaseNode(), "") == 0 then
                            window.shape_list.createWindow();
                            return true;
                        end

                        window.shape_list.setVisible(not window.shape_list.isVisible());
                        return true;
                    end
                </script>
            </header_column>
            <list_talents name="shape_list">
                <datasource>.spells.spell0.destruction_shapes</datasource>
                <script>
                    function setSelected(shapeSelection, selectionValue)
                        local controller = window.cast_window.subwindow;
                        if controller then
                            controller.clearNotSelectedTalents(getDatabaseNode(), shapeSelection.getDatabaseNode());
                        end
                    end
                </script>
            </list_talents>

            <header_column name="header_type">
                <frame name="rowshade" />
                <static textres="destruction_header_type" />
                <script>
                    function onClickDown(button, x, y)
                    return true;
                    end

                    function onClickRelease(button, x, y)
                        if DB.getChildCount(window.type_list.getDatabaseNode(), "") == 0 then
                            window.type_list.createWindow();
                            return true;
                        end

                        window.type_list.setVisible(not window.type_list.isVisible());
                        return true;
                    end
                </script>
            </header_column>
            <list_talents name="type_list">
                <datasource>.spells.spell0.destruction_types</datasource>
                <script>
                    function setSelected(typeSelection, selectionValue)
                        local controller = window.cast_window.subwindow;
                        if controller then
                            controller.clearNotSelectedTalents(getDatabaseNode(), typeSelection.getDatabaseNode());
                        end
                    end
                </script>
            </list_talents>

            <header_column name="header_other">
                <frame name="rowshade" />
                <static textres="destruction_header_other" />
                <script>
                    function onClickDown(button, x, y)
                        return true;
                    end

                    function onClickRelease(button, x, y)
                        if DB.getChildCount(window.other_list.getDatabaseNode(), "") == 0 then
                            window.other_list.createWindow();
                            return true;
                        end

                        window.other_list.setVisible(not window.other_list.isVisible());
                        return true;
                    end
                </script>
            </header_column>
            <list_talents name="other_list">
                <datasource>.spells.spell0.destruction_other</datasource>
                <script>
                    function setSelected(talentSelection)
                    return true;
                    end
                </script>
            </list_talents>
        </sheetdata>
    </windowclass>

    <template name="list_talents">
        <list_text>
<!--            <child><backcolor /></child>-->
            <anchored>
                <top parent="columnanchor" anchor="bottom" relation="relative" offset="10" />
                <left offset="5" />
                <right offset="-5" />
            </anchored>
            <sortby>
                <control>name</control>
            </sortby>
            <newfocus>name</newfocus>
            <class>destruction_talent</class>
        </list_text>
    </template>

    <windowclass name="cast_box">
        <script file="campaign/scripts/destruction_cast.lua" />
        <frame>referenceblock-text3</frame>
        <margins control="0,0,0,20" />
        <sheetdata>
            <genericcontrol name="topanchor">
                <anchored position="insidetopleft" offset="30,23" />
                <disabled />
                <invisible />
            </genericcontrol>

<!--            <button_roll name="castbutton">-->
<!--                <script>-->
<!--                    function action(draginfo)-->
<!--                    local sSubRoll = nil;-->
<!--                    if subroll then-->
<!--                    sSubRoll = subroll[1];-->
<!--                    end-->

<!--                    window.onSpellAction(draginfo, window.getDatabaseNode(), sSubRoll);-->
<!--                    end-->

<!--                    function onButtonPress()-->
<!--                    action();-->
<!--                    end-->

<!--                    function onDragStart(button, x, y, draginfo)-->
<!--                    action(draginfo);-->
<!--                    return true;-->
<!--                    end-->
<!--                </script>-->
<!--                <anchored>-->
<!--                    <left parent="topanchor" anchor="right" relation="relative" offset="23" />-->
<!--                    <top parent="topanchor" anchor="bottom" />-->
<!--                </anchored>-->
<!--            </button_roll>-->
<!--            <label name="castlabel">-->
<!--                <anchored>-->
<!--                    <left parent="topanchor" anchor="right" relation="relative" offset="3" />-->
<!--                    <top parent="topanchor" anchor="bottom" />-->
<!--                </anchored>-->
<!--                <static textres="spell_label_cast" />-->
<!--            </label>-->
            <icon_usepower name="usepower">
                <anchored width="15" height="15">
                    <left parent="topanchor" anchor="right" relation="relative" offset="20" />
                    <top parent="topanchor" anchor="bottom" relation="relative" offset="3" />
                </anchored>
            </icon_usepower>
            <simplenumber name="castcost" source="cast.cost">
                <anchored width="20" height="20">
                    <top parent="topanchor" anchor="bottom" />
                    <left parent="topanchor" anchor="right" relation="relative" offset="7" />
                </anchored>
                <readonly />
                <frame name="fieldlight" offset="7,5,7,5" />
            </simplenumber>
            <buttonfield name="fullpower" source=".fullpower">
                <anchored width="12" height="12">
                    <top parent="topanchor" anchor="bottom" offset="3" />
                    <left parent="topanchor" anchor="right" relation="relative" offset="15" />
                </anchored>
                <state icon="button_checkoff" />
                <state icon="button_checkon" />
                <script>
                    function onValueChanged()
                        window.updateCast();
                    end
                </script>
            </buttonfield>
            <label name="fullpowerlabel">
                <anchored>
                    <left parent="topanchor" anchor="right" relation="relative" offset="3" />
                    <top parent="topanchor" anchor="bottom" />
                </anchored>
                <static textres="cast_label_fullpower" />
            </label>

            <genericcontrol name="hanchor">
                <anchored width="0" height="0">
                    <top parent="topanchor" anchor="top" offset="0" />
                    <right offset="-55" />
                </anchored>
                <invisible />
            </genericcontrol>
            <basicnumber name="pointsused">
                <anchored width="20" height="20">
                    <top parent="hanchor" anchor="bottom" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <min>0</min>
                <tooltip textres="spell_tooltip_ppused" />
                <tabtarget next="availablelevel0" prev="points" />
            </basicnumber>
            <label name="label_pointsused">
                <anchored>
                    <top parent="hanchor" anchor="bottom" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <static>/</static>
            </label>
            <basicnumber name="points">
                <anchored width="20" height="20">
                    <top parent="hanchor" anchor="bottom" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <min>0</min>
                <tooltip textres="spell_tooltip_ppmax" />
                <tabtarget next="pointsused" prev="cl" />
            </basicnumber>
            <label name="label_points">
                <anchored>
                    <top parent="hanchor" anchor="bottom" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <static textres="spell_label_pp" />
            </label>
            <button_cc name="button_cc">
                <anchored width="20" height="20">
                    <top parent="hanchor" anchor="bottom" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <tooltip textres="spell_tooltip_cc" />
            </button_cc>
            <label name="label_cc">
                <anchored>
                    <top parent="hanchor" anchor="bottom" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <static textres="spell_label_cc" />
                <tooltip textres="spell_tooltip_cc" />
            </label>
            <basicnumber name="cl">
                <anchored width="20" height="20">
                    <top parent="hanchor" anchor="bottom" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-10" />
                </anchored>
                <min>1</min>
                <tooltip textres="casterlevel" />
                <tabtarget next="points" />
                <script>
                    function onValueChanged()
                        window.updateAllActionValues();
                    end
                </script>
            </basicnumber>
            <label name="label_cl">
                <anchored>
                    <top parent="hanchor" anchor="bottom" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-10" />
                </anchored>
                <static textres="cl" />
                <tooltip textres="casterlevel" />
            </label>

            <windowlist name="destruction_actions">
                <anchored>
                    <top parent="topanchor" anchor="bottom" relation="relative" offset="10" />
                    <left parent="topanchor" anchor="left" />
                    <right />
                </anchored>
                <noscroll />
                <!-- dummy nodes to fix relative references -->
                <datasource>.level.level0.spell.spell0.destruction_actions</datasource>
                <class>spell_action</class>
            </windowlist>
        </sheetdata>
    </windowclass>

    <windowclass name="destruction_talent">
        <margins control="0,0,0,2" />
        <script file="campaign/scripts/destruction_talent.lua" />
        <sheetdata>
            <genericcontrol name="rightanchor">
                <anchored width="0" height="0">
                    <top offset="5" />
                    <right />
                </anchored>
                <invisible />
            </genericcontrol>
            <linkcontrol name="shortcut">
                <anchored to="rightanchor" width="20" height="20">
                    <top />
                    <right anchor="left" relation="relative" offset="-5" />
                </anchored>
                <class>spelldesc2</class>
                <readonly />
            </linkcontrol>
            <button_toggledetail name="activatedetail">
                <anchored to="rightanchor">
                    <top />
                    <right anchor="left" relation="relative" offset="-2" />
                </anchored>
            </button_toggledetail>

            <subwindow name="header">
                <anchored>
                    <top />
                    <left />
                    <right parent="rightanchor" anchor="left" relation="relative" />
                </anchored>
                <class>talent_header</class>
                <activate />
                <fastinit />
            </subwindow>

            <windowlist name="actions">
                <anchored>
                    <top parent="header" anchor="bottom" relation="relative" offset="5" />
                    <left offset="10" />
                    <right />
                </anchored>
                <noscroll />
                <datasource>.actions</datasource>
                <class>spell_action</class>
                <invisible />
            </windowlist>
        </sheetdata>
    </windowclass>

    <windowclass name="talent_header">
        <margins control="0,0,0,2" />
        <sheetdata>
            <anchor_column name="hanchor" />

            <buttonfield name="selectspell" source=".selected">
                <anchored width="12" height="12">
                    <top offset="7" />
                    <left parent="hanchor" anchor="right" relation="relative" offset="5" />
                </anchored>
                <state icon="button_checkoff" />
                <state icon="button_checkon" />
                <script>
                    function onValueChanged()
                        if getValue() == 1 then
                            window.parentcontrol.window.windowlist.setSelected(window);
                        end
                    end
                </script>
            </buttonfield>
            <basicnumber name="costdisplay" source="cost">
                <anchored width="20" height="20">
                    <top offset="2" />
                    <left parent="hanchor" anchor="right" relation="relative" offset="5" />
                </anchored>
            </basicnumber>

            <!-- just an anchor, named rightanchor so I can use default spell.lua without nil pointer exceptions -->
            <genericcontrol name="rightanchor">
                <anchored position="insidetopright" width="0" height="0" />
            </genericcontrol>
            <string_spell name="shortdescription">
                <anchored width="200" height="20">
                    <top offset="2" />
                    <right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <empty textres="spell_emptydesc" />
            </string_spell>

            <string_spell name="name">
                <anchored>
                    <top offset="2" />
                    <left parent="hanchor" anchor="right" relation="relative" offset="15" />
                    <right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
                </anchored>
                <multilinespacing>20</multilinespacing>
                <empty textres="library_recordtype_empty_spell" />
                <script>
                    function onDoubleClick(x, y)
                    DB.setValue(window.getDatabaseNode(), ".selected", "number", 1);
                    end
                </script>
                <!--                function onDragStart(button, x, y, draginfo)-->
                <!--                local node = window.getDatabaseNode();-->
                <!--                if not node then-->
                <!--                return false;-->
                <!--                end-->

                <!--                local nLevel = 0;-->
                <!--                local nodeSpellLevel = node.getChild("...");-->
                <!--                if nodeSpellLevel then-->
                <!--                nLevel = tonumber(string.sub(nodeSpellLevel.getName(), 6)) or 0;-->
                <!--                end-->

                <!--                draginfo.setType("spellmove");-->
                <!--                draginfo.setStringData(getValue());-->
                <!--                draginfo.setNumberData(nLevel);-->
                <!--                draginfo.setDatabaseNode(node);-->

                <!--                return true;-->
                <!--                end-->
            </string_spell>
        </sheetdata>
    </windowclass>

    <windowclass name="spell_class">
        <margins control="0,0,0,5" />
        <script file="campaign/scripts/spell_class.lua" />
        <sheetdata>
            <button_iconcycler name="castertype">
                <bounds>10,10,20,20</bounds>
                <parameters>
                    <defaulticon>caster_prep</defaulticon>
                    <defaulttooltipres>spell_tooltip_casterprep</defaulttooltipres>
                    <icons>caster_spontaneous|caster_points</icons>
                    <tooltipsres>spell_tooltip_casterspontaneous|spell_tooltip_casterpoints</tooltipsres>
                    <values>spontaneous|points</values>
                </parameters>
                <script>
                    function onValueChanged()
                    window.onCasterTypeChanged();
                    end
                </script>
            </button_iconcycler>

            <genericcontrol name="hanchor">
                <anchored width="0" height="0">
                    <top />
                    <right offset="-3" />
                </anchored>
                <invisible />
            </genericcontrol>
            <button_idelete name="idelete">
                <anchored>
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
            </button_idelete>
            <button_toggledetail name="activatedetail">
                <anchored>
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <anchored position="insidetopright" offset="8,12" />
            </button_toggledetail>
            <basicnumber name="pointsused">
                <anchored width="20" height="20">
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <min>0</min>
                <tooltip textres="spell_tooltip_ppused" />
                <tabtarget next="availablelevel0" prev="points" />
                <script>
                    function onValueChanged()
                    window.onSpellCounterUpdate();
                    end
                </script>
            </basicnumber>
            <label name="label_pointsused">
                <anchored>
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <static>/</static>
            </label>
            <basicnumber name="points">
                <anchored width="20" height="20">
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <min>0</min>
                <tooltip textres="spell_tooltip_ppmax" />
                <tabtarget next="pointsused" prev="cl" />
                <script>
                    function onValueChanged()
                    window.onSpellCounterUpdate();
                    end
                </script>
            </basicnumber>
            <label name="label_points">
                <anchored>
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <static textres="spell_label_pp" />
            </label>
            <button_cc name="button_cc">
                <anchored width="20" height="20">
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <tooltip textres="spell_tooltip_cc" />
            </button_cc>
            <label name="label_cc">
                <anchored>
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <static textres="spell_label_cc" />
                <tooltip textres="spell_tooltip_cc" />
            </label>
            <basicnumber name="cl">
                <anchored width="20" height="20">
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-10" />
                </anchored>
                <min>0</min>
                <tooltip textres="casterlevel" />
                <tabtarget next="points" prev="label" />
                <script>
                    function onValueChanged()
                    window.onStatUpdate();
                    end
                </script>
            </basicnumber>
            <label name="label_cl">
                <anchored>
                    <top offset="12" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-10" />
                </anchored>
                <static textres="cl" />
                <tooltip textres="casterlevel" />
            </label>
            <stringu name="label">
                <anchored height="20">
                    <top offset="12" />
                    <left parent="castertype" anchor="right" offset="5" />
                    <right parent="hanchor" anchor="left" relation="relative" offset="-5" />
                </anchored>
                <font>reference-b</font>
                <empty textres="spellclass_emptyname" />
                <tabtarget next="cl" />
            </stringu>

            <genericcontrol name="detailanchor">
                <bounds>0,35,0,0</bounds>
            </genericcontrol>

            <genericcontrol name="frame_levels">
                <anchored width="325" height="55">
                    <top parent="detailanchor" anchor="bottom" relation="relative" />
                    <left offset="5" />
                </anchored>
                <frame name="groupbox3" />
            </genericcontrol>

            <label name="availablelevel_label">
                <anchored to="frame_levels" position="insidetopleft" offset="15,25" />
                <static textres="level" />
            </label>
            <genericcontrol name="availablelevel">
                <anchored to="frame_levels" position="insidetopleft" offset="55,25" width="1" height="25" />
            </genericcontrol>
            <number_spellsavailable name="availablelevel0">
                <tabtarget next="availablelevel1" prev="pointsused" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel1">
                <tabtarget next="availablelevel2" prev="availablelevel0" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel2">
                <tabtarget next="availablelevel3" prev="availablelevel1" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel3">
                <tabtarget next="availablelevel4" prev="availablelevel2" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel4">
                <tabtarget next="availablelevel5" prev="availablelevel3" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel5">
                <tabtarget next="availablelevel6" prev="availablelevel4" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel6">
                <tabtarget next="availablelevel7" prev="availablelevel5" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel7">
                <tabtarget next="availablelevel8" prev="availablelevel6" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel8">
                <tabtarget next="availablelevel9" prev="availablelevel7" />
            </number_spellsavailable>
            <number_spellsavailable name="availablelevel9">
                <tabtarget next="dcmisc" prev="availablelevel8" />
            </number_spellsavailable>
            <label_fieldtop name="availablelevel0_label">
                <anchored to="availablelevel0" />
                <static>0</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel1_label">
                <anchored to="availablelevel1" />
                <static>1</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel2_label">
                <anchored to="availablelevel2" />
                <static>2</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel3_label">
                <anchored to="availablelevel3" />
                <static>3</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel4_label">
                <anchored to="availablelevel4" />
                <static>4</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel5_label">
                <anchored to="availablelevel5" />
                <static>5</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel6_label">
                <anchored to="availablelevel6" />
                <static>6</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel7_label">
                <anchored to="availablelevel7" />
                <static>7</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel8_label">
                <anchored to="availablelevel8" />
                <static>8</static>
            </label_fieldtop>
            <label_fieldtop name="availablelevel9_label">
                <anchored to="availablelevel9" />
                <static>9</static>
            </label_fieldtop>

            <genericcontrol name="frame_dc">
                <anchored width="180" height="55">
                    <top parent="detailanchor" anchor="bottom" relation="relative" />
                    <left offset="5" />
                </anchored>
                <frame name="groupbox3" />
            </genericcontrol>

            <label name="dc_label">
                <anchored to="frame_dc" position="insidetopleft" offset="15,25" />
                <static textres="spell_label_basedc" />
            </label>
            <number name="dcstatmod" source="dc.abilitymod">
                <anchored to="frame_dc" position="insidetopleft" offset="75,25" width="30" height="20" />
                <font>sheetnumber</font>
                <readonly />
                <displaysign />
                <disabled />
            </number>
            <label_fieldtop name="dcstatmod_label">
                <anchored to="dcstatmod" />
                <static textres="spell_label_ability" />
            </label_fieldtop>
            <number_spell name="dcmisc" source="dc.misc">
                <anchored to="dcstatmod" position="righthigh" offset="5,0" width="15" />
                <tabtarget next="sp" prev="availablelevel9" />
            </number_spell>
            <label_fieldtop name="dcmisc_label">
                <anchored to="dcmisc" />
                <static textres="spell_label_misc" />
            </label_fieldtop>
            <number_spelldc name="dctotal" source="dc.total">
                <anchored to="dcmisc" position="righthigh" offset="10,0" />
                <description textres="spell_tooltip_basedc" />
            </number_spelldc>
            <label_fieldtop name="dctotal_label">
                <anchored to="dctotal" />
                <static textres="spell_label_total" />
            </label_fieldtop>

            <genericcontrol name="frame_stat">
                <anchored to="frame_dc" width="150" height="55">
                    <top />
                    <left anchor="right" offset="-5" />
                </anchored>
                <frame name="groupbox3" />
            </genericcontrol>

            <label name="ability_label">
                <anchored to="frame_stat" position="insidetopleft" offset="15,25" />
                <static textres="spell_label_baseability" />
            </label>
            <cycler_ability name="dcstat">
                <anchored to="frame_stat" position="insidetopleft" offset="80,25" width="50" height="20" />
                <source>
                    <name>dc.ability</name>
                </source>
                <parameters>
                    <defaultlabelres>dash</defaultlabelres>
                </parameters>
                <script>
                    function onValueChanged()
                    window.onStatUpdate();
                    end
                </script>
            </cycler_ability>
            <label_fieldtop name="dcstat_label">
                <anchored to="dcstat" />
                <static textres="spell_label_ability" />
            </label_fieldtop>

            <genericcontrol name="frame_sp">
                <anchored width="180" height="55">
                    <top parent="detailanchor" anchor="bottom" relation="relative" />
                    <left offset="5" />
                </anchored>
                <frame name="groupbox3" />
            </genericcontrol>

            <label name="spmain_label">
                <anchored to="frame_sp" position="insidetopleft" offset="15,25" />
                <static textres="spell_label_sp" />
            </label>
            <number_spell name="sp">
                <anchored to="frame_sp" position="insidetopleft" offset="140,25" />
                <script>
                    function onValueChanged()
                    window.onStatUpdate();
                    end
                </script>
            </number_spell>
            <label_fieldtop name="sp_label">
                <anchored to="sp" />
                <static textres="spell_label_mod" />
            </label_fieldtop>

            <genericcontrol name="frame_cc">
                <anchored to="frame_sp" width="150" height="55">
                    <top />
                    <left anchor="right" offset="-5" />
                </anchored>
                <frame name="groupbox3" />
            </genericcontrol>

            <label name="label_cc">
                <anchored to="frame_cc" position="insidetopleft" offset="15,25" />
                <static textres="spell_label_ccdetail" />
            </label>
            <number_spell name="ccmisc" source="cc.misc">
                <anchored to="frame_cc" position="insidetopleft" offset="105,25" />
            </number_spell>
            <label_fieldtop name="ccmisc_label">
                <anchored to="ccmisc" />
                <static textres="spell_label_mod" />
            </label_fieldtop>

            <genericcontrol name="classframe">
                <anchored>
                    <top offset="6" />
                    <left offset="6" />
                    <right offset="-6" />
                    <bottom parent="detailanchor" relation="relative" anchor="bottom" offset="6" />
                </anchored>
                <frame name="groupbox2" offset="6,6,6,6" />
                <disabled />
            </genericcontrol>

            <!--            -->

            <linkcontrol name="DestructionWidgetButton">
                <anchored width="20" height="20" to="frame_stat" position="insidetopright" offset="75,25" />
                <!--                <tooltip textres="spell_tooltip_cc" />-->
                <class>DestructionWidget</class>
            </linkcontrol>
            <!--                -->


            <list_spelllevel name="levels">
                <anchored>
                    <top parent="classframe" anchor="bottom" offset="8" />
                    <left />
                    <right />
                </anchored>
                <class>spell_level</class>
                <tabtarget prev="sp" />
            </list_spelllevel>
        </sheetdata>
    </windowclass>
</root>